---
title: "Delete"
mode: "wide"
---

Deletes vectors from the encrypted index by their IDs.

```typescript
async delete(ids: string[]): Promise<CyborgdbServiceApiSchemasVectorsSuccessResponseModel>
```

### Parameters

| Parameter | Type | Description |
|-----------|------|-------------|
| `ids` | `string[]` | Array of vector IDs to delete from the index |

### Returns

`Promise<CyborgdbServiceApiSchemasVectorsSuccessResponseModel>`: A Promise that resolves to a success response object containing the operation status and message with the count of deleted vectors.

### Exceptions

<AccordionGroup>
    <Accordion title="Error">
        - Throws if the API request fails due to network connectivity issues.
        - Throws if authentication fails (invalid API key).
        - Throws if the encryption key is invalid for the specified index.
        - Throws if there are internal server errors preventing the deletion.
    </Accordion>
    <Accordion title="Validation Errors">
        - Throws if the `ids` parameter is null, undefined, or empty.
        - Throws if any of the provided IDs are invalid format.
    </Accordion>
</AccordionGroup>

### Example Usage

```typescript
import { Client, IndexIVFModel } from '@cyborgdb/sdk-js-ts';

const client = new Client('https://your-cyborgdb-service.com', 'your-api-key');

// Create and populate index
const indexKey = crypto.getRandomValues(new Uint8Array(32));
const config: IndexIVFModel = {
    type: 'ivf',
    dimension: 768,
    nLists: 1024,
    metric: 'cosine'
};

const index = await client.createIndex('my-vectors', indexKey, config);

// Add some vectors
await index.upsert([
    { id: 'doc1', vector: [0.1, 0.2, 0.3, ...], metadata: { title: 'Document 1' } },
    { id: 'doc2', vector: [0.4, 0.5, 0.6, ...], metadata: { title: 'Document 2' } },
    { id: 'doc3', vector: [0.7, 0.8, 0.9, ...], metadata: { title: 'Document 3' } }
]);

// Delete specific vectors
try {
    const result = await index.delete(['doc1', 'doc2']);
    console.log('Deletion result:', result);
    // Output: { status: 'success', message: 'Deleted 2 vectors' }
} catch (error) {
    console.error('Failed to delete vectors:', error.message);
}
```

### Response Format

The method returns a success response object with the following structure:

```typescript
// Standard successful deletion response
{
    "status": "success",
    "message": "Deleted 3 vectors"
}
```

#### Response Fields

| Field | Type | Description |
|-------|------|-------------|
| `status` | `string` | Operation status (typically "success") |
| `message` | `string` | Descriptive message including the count of deleted vectors |

### Best Practices

- **Batch Size**: When deleting many vectors, process them in reasonable batches (50-100 vectors) to avoid timeouts
- **Verification**: For critical deletions, verify the operation by attempting to retrieve the deleted vectors
- **Error Handling**: Implement proper error handling for network failures and invalid IDs
- **Queue Management**: Consider using a deletion queue for managing bulk deletion operations
- **Backup**: For important data, consider backing up vectors before deletion if recovery might be needed
- **Atomic Operations**: When replacing vectors, add new ones first, then delete old ones to maintain data availability

### Performance Considerations

- **Index Type**: Deletion performance may vary based on the index type (IVF, IVFFlat, IVFPQ)
- **Batch Processing**: Batch deletions are more efficient than individual deletions
- **Training**: After large deletions, consider retraining the index for optimal query performance
- **Memory**: Large deletion operations may temporarily increase memory usage during processing

### Important Notes

- Deleted vectors cannot be recovered unless backed up separately
- Vector IDs that don't exist in the index are silently ignored (no error thrown)
- The operation is atomic - either all specified vectors are deleted or none are
- Deletion does not automatically retrain the index - call `train()` if needed for optimal performance
